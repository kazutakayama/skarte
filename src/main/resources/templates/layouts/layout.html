<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="/css/style.css" th:href="@{/css/style.css}">

	<title>Skarte</title>
</head>

<body>
	<div class="wrap">
		<div th:if="${hasMessage}" class="alert alert-dismissible fade show" th:classappend="${class}" role='alert'>
			<span th:text="${message}"></span>
			<!--<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>-->
		</div>

		<header>
			<!--<h1><a href="/top">Skarte</a></h1>-->
			<span class="title">Skarte</span>
			<th:block th:if="${user !=null}">
				<a href="/top">トップ</a>
				<a href="/students">生徒一覧</a>
				<a href="/attendance">出席簿一覧</a>
				<a href="/grade">成績一覧</a>
				<a href="/notices">お知らせ</a>
				<a href="/setting">管理</a>
				<span th:text="${now}"></span>
				ログインユーザー
				<span th:text="${user.userId}"></span>
				<span th:text="${user.lastName + ' ' + user.firstName}"></span>
				<a href="/logout-complete">ログアウト</a>
			</th:block>
			<div th:if="${studentHeader == true}">
				<table>
					<tr>
						<th th:text="${student.studentId}"></th>
						<th th:text="${student.lastName}"></th>
						<th th:text="${student.firstName}"></th>
						<th th:text="${student.lastNameKana}"></th>
						<th th:text="${student.firstNameKana}"></th>
						<th th:text="${student.birth}"></th>
						<th th:text="${gender[__student.gender__]}"></th>
						<th><a th:href="@{/students/{id} (id=${student.studentId})}">生徒情報</a></th>
						<th><a th:href="@{/students/{id}/karte (id=${student.studentId})}">カルテ</a></th>
						<th><a th:href="@{/students/{id}/attendance (id=${student.studentId})}">出席簿</a></th>
						<th><a th:href="@{/students/{id}/grade (id=${student.studentId})}">成績</a></th>
					</tr>
				</table>
			</div>
		</header>



		<div layout:fragment="content"></div>

		<footer>フッター</footer>
	</div>


	<!-- Bootstrap Javascript -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.7.1.js"
		integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
	<script src="/scripts/script.js" 　defer></script>

	<!--新規登録Modal表示用-->
	<script th:inline="javascript">
		let showNewModal = /*[[${showNewModal}]]*/ false;
		if (showNewModal) {
			let newModal = new bootstrap.Modal(document.getElementById('newModal'));
			newModal.show();
		}
		let showEditModal = /*[[${showEditModal}]]*/ false;
		if (showEditModal) {
			let editModal = new bootstrap.Modal(document.getElementById('editModal'));
			editModal.show();
		}
	</script>


</body>

</html>