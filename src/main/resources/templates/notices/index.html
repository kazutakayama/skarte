<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout}">


<body>
	<div layout:fragment="content">

		<h2>お知らせ新規登録</h2>

		<form th:action="@{/notices/add}" th:method="post" th:object="${noticeForm}">
			<div class="form-group">
				<label class="control-label">タイトル</label>
				<input class="form-control" type="text" name="title" th:value="*{title}" th:errorclass="border-danger" />
				<div class="text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
			</div>
			<div class="form-group">
				<label class="control-label">内容</label>
				<input class="form-control" type="textarea" name="contents" th:value="*{contents}"
					th:errorclass="border-danger" />
				<div class="text-danger" th:if="${#fields.hasErrors('contents')}" th:errors="*{contents}"></div>
			</div>
			<button class="btn btn-default" type="submit">登録</button>
		</form>

		<h2>お知らせ一覧</h2>

		<table border="1" style="border-collapse: collapse">
			<thead>
				<tr>
					<th>タイトル</th>
					<th>内容</th>
					<th>更新者</th>
					<th>更新日時</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="notice : ${notices}">
					<!--<td><a th:href="@{/notices/contents/{id}(id=${notice.noticeId})}" 　th:text="${notice.title}"></a>
					</td>-->
					<td th:text="${notice.title}"></td>
					<td th:text="${notice.contents}"></td>
					<td th:text="${updateUser[__notice.updatedBy__]}"></td>
					<td th:text="${#temporals.format(notice.updatedAt, 'yyyy-M-d HH:mm:ss')}"></td>
					<td><a class="buttons clearfix" th:href="@{/notices/{id}/edit (id=${notice.noticeId})}">
							編集
						</a></td>
				</tr>
			</tbody>
		</table>

	</div>
</body>

</html>